<!DOCTYPE html>
<html lang="en">
<head th:replace="layout/layout.html :: head"></head>
<body>
    <header th:replace="layout/layout.html :: header"></header>
    <div class="container mt-4">
        <div class="input-group mb-4">
            <form class="form-inline" th:action="@{/register/ListarRegister}" method="get">
                <input class="form-control mr-sm-2" type="text" name="query" placeholder="Buscar por username" />
                <button class="btn btn-primary" type="submit">Buscar</button>
            </form>
        </div>
        <div>
            <a class="btn btn-primary mb-4" th:href="@{/register/formRegister}">Crear Empleado</a>
        </div>
    <div class="table-responsive">
    <table class="table table-striped table-bordered">
        <thead class="thead-dark">
            <tr>
                <th>id</th>
                <th>username</th>
                <th>password</th>
                <th>roles</th>
                <th>editar</th>
                <th>eliminar</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="user : ${usuarios}">
                <th th:text="${user.idUsuario}"></th>
                <th th:text="${user.username}"></th>
                <th th:text="${user.password}"></th>
                <th>
                    <ul th:each="rol : ${user.roles}">
                        <li th:text="${rol.nombre}"></li>
                    </ul>
                </th>
                <th>
                    <a class="btn btn-primary" th:href="@{/register/editar/} + ${user.idUsuario}">Editar</a>
                </th>
                <th>
                    <a class="btn btn-danger" 
                    onclick="return confirm('¿Estás seguro que quieres eliminar?')"
                    th:href="@{/register/eliminar/} + ${user.idUsuario}">Eliminar</a>
                </th>
            </tr>
        </tbody>
    </table>
    </div>
</div>
    <footer th:replace="layout/layout.html :: footer"></footer>
</body>
</html>